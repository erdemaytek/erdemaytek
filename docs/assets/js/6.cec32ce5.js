(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{354:function(a,s,t){a.exports=t.p+"assets/img/f7itiYw.54aebc21.png"},355:function(a,s,t){a.exports=t.p+"assets/img/FensWfo.c24add4a.png"},364:function(a,s,t){"use strict";t.r(s);var e=t(42),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"prisma-schema"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prisma-schema"}},[a._v("#")]),a._v(" Prisma schema")]),a._v(" "),e("p",[a._v("prisma init /prisma projesi oluştur.")]),a._v(" "),e("p",[a._v("prisma introspect // Ver tabanından şemaları çek")]),a._v(" "),e("h1",{attrs:{id:"kurulum"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kurulum"}},[a._v("#")]),a._v(" Kurulum")]),a._v(" "),e("p",[a._v("Projemize Prisma CLI yüklüyoruz. Takma ad olarak bundan sonra "),e("code",[a._v("npx")]),a._v(" olarak çağıracağız..")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" init -y\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" @prisma/cli --save-dev\n")])])]),e("p",[e("code",[a._v("npx prisma")]),a._v(" komutu ile kullanabileceğimiz parametreleri görürüz.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("npx prisma // Bu komut ile kullanabileceğimiz parametreleri görürüz.\n")])])]),e("p",[a._v("Projemizde Prisma Schema ve veritabanı bağlantısı için gerekli olan dosyaları yüklemek için "),e("code",[a._v("prisma init")]),a._v(" komutunu kullanıyoruz.")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("npx prisma init\n")])])]),e("p",[a._v("Bu komutu kullandığımızda projemize "),e("code",[a._v("prisma")]),a._v("isminde bir klasör eklenecektir. Bu klasörün içerisinde aşağıdaki dosyalar vardır.")]),a._v(" "),e("ul",[e("li",[e("p",[e("code",[a._v("schema.prisma")]),a._v(" : Veritabanı bağlantısı, Prisma Client oluşturucusu ve Prisma schemalarını içerir.")])]),a._v(" "),e("li",[e("p",[e("code",[a._v(".env")]),a._v(" : Ortam değişkenlerini tanımlamak için .env dosyası kullanılır. (veritabanı bağlantımızda burada yazılır.)")])])]),a._v(" "),e("h1",{attrs:{id:"veritabanı-baglantısı"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#veritabanı-baglantısı"}},[a._v("#")]),a._v(" Veritabanı Bağlantısı")]),a._v(" "),e("p",[a._v("Veritabanına bağlantısı için gerekli olan bilgileri "),e("code",[a._v(".env")]),a._v(" dosyasındaki "),e("code",[a._v("DATABASE_URL")]),a._v(" kısmına yazıyoruz. Aşağıdaki bağlantımız local postgresql içindir.  "),e("a",{attrs:{href:"https://www.prisma.io/docs/reference/database-connectors/connection-urlshttps://www.prisma.io/docs/reference/database-connectors/connection-urls",target:"_blank",rel:"noopener noreferrer"}},[a._v("Diğer Bağlantı Bilgileri"),e("OutboundLink")],1)]),a._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//Bağlantı Formatı")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[a._v("DATABASE_URL")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"postgresql://KULLANICI_ADI:ŞİFRE@MAKINE_IP:PORT/VERİTABANI_ADI?schema=ŞEMA_ADI"')]),a._v("\n")])])]),e("h1",{attrs:{id:"veritabanında-bulunan-semalarımızı-projemize-cekmek"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#veritabanında-bulunan-semalarımızı-projemize-cekmek"}},[a._v("#")]),a._v(" Veritabanında Bulunan Şemalarımızı Projemize Çekmek")]),a._v(" "),e("p",[a._v("Veritabanı bağlantısı için gerekli olan işlemleri yukarıda yaptık. Veri tabanında bulunan tablolalarımızı proje içerisinde prisma schema şekline çevirerek eklememiz gerekiyor. Bunun için "),e("code",[a._v("npx prisma introspect")]),a._v(" komutunu kullanacağız. Bu komut veritabanını inceleyecek ve gerekli şemaları "),e("code",[a._v("schema.prisma")]),a._v(" dosyamıza yazacaktır.")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("npx prisma introspect\n")])])]),e("blockquote",[e("p",[a._v("Bu işlemi yapma sebebimiz "),e("code",[a._v("Prisma Client")]),a._v(" tarafında sorgular yazarken bu modellerimizi kullanacağımız içindir. Bir nevi veritabanının soyutlamasını yapmış olduk. Buda sorgu yazarken bize ciddi kolaylık sağlacaktır.")])]),a._v(" "),e("p",[e("img",{attrs:{src:t(354),alt:""}})]),a._v(" "),e("h1",{attrs:{id:"prisma-client-olusturma-ve-yukleme"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prisma-client-olusturma-ve-yukleme"}},[a._v("#")]),a._v(" Prisma Client Oluşturma ve Yükleme")]),a._v(" "),e("p",[a._v("Prisma client ile veritabanında gerekli olan CRUD işlemlerinin tamamını yapabiliriz. Bunun için öncelikle "),e("code",[a._v("@prisma/client")]),a._v("paketini projemize yüklememiz gerekiyor.")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" @prisma/client\n")])])]),e("p",[a._v("Şimdi de prisma client'in bizim oluşturduğumuz schemaları okuyabilmesi için "),e("code",[a._v("npx prisma generate")]),a._v(" komutunu kullanıyoruz. Şemamızda değişiklik olursa bu komutu tekrardan çalıştırmamız gerekir. Böylelikle prisma client yaptığımız değişikliği bilmiş olur.")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("npx prisma generate\n")])])]),e("p",[e("img",{attrs:{src:t(355),alt:""}})]),a._v(" "),e("h1",{attrs:{id:"ilk-sorgumuzu-yazalım"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ilk-sorgumuzu-yazalım"}},[a._v("#")]),a._v(" İlk Sorgumuzu Yazalım")]),a._v(" "),e("p",[e("code",[a._v("PrismaClient")]),a._v("dosyamıza ekledik. Daha sonra "),e("code",[a._v("new PrismaClient()")]),a._v(" diyerek yeni örnek oluşturduk. Bu örnek üzerinden "),e("code",[a._v("user")]),a._v("tablosuna erişerek "),e("code",[a._v("findMany()")]),a._v(" fonsiyonu ile tüm verileri getirdik.")]),a._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" PrismaClient "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'@prisma/client'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" prisma "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("PrismaClient")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("async")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("veriGetir")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" users "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("await")]),a._v(" prisma"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("user"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("findMany")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("users"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("veriGetir")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Çıktı")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" id"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" name"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'erde'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" email"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'er'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" post"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);